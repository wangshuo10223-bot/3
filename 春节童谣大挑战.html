<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜¥èŠ‚ç«¥è°£å¤§æŒ‘æˆ˜</title>
    <style>
        :root {
            --china-red: #d32f2f;
            --gold: #ffd700;
        }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: #fff5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
            overflow-x: hidden;
        }
        h1 { color: var(--china-red); text-shadow: 2px 2px var(--gold); }
        #game-container {
            width: 100%;
            max-width: 600px;
            background: white;
            border: 5px solid var(--china-red);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            text-align: center;
        }
        .instruction { font-size: 1.2rem; margin-bottom: 20px; color: #555; }
        .rhyme-box {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .item {
            padding: 15px;
            background: #fff0f0;
            border: 2px solid #ffcccb;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s;
            font-size: 1.1rem;
        }
        .item:active { transform: scale(0.95); }
        .selected { background: var(--gold) !important; border-color: orange !important; }
        .correct { background: #c8e6c9 !important; border-color: #4caf50 !important; visibility: hidden; }
        
        #reward-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            color: var(--gold);
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        .firework { font-size: 50px; animation: bounce 1s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        button {
            padding: 10px 30px;
            font-size: 1.2rem;
            background: var(--china-red);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <h1>ğŸ® æ˜¥èŠ‚ç«¥è°£é—¯å…³ ğŸ®</h1>
    
    <div id="game-container">
        <div id="level-info"><h3>ç¬¬ä¸€å…³ï¼šæ—¥æœŸé…é…å¯¹</h3></div>
        <p class="instruction">è¯·å…ˆç‚¹å‡»â€œæ—¶é—´â€ï¼Œå†ç‚¹å‡»å¯¹åº”çš„â€œä¹ ä¿—â€å§ï¼</p>
        <div id="game-board" class="rhyme-box"></div>
        <div id="msg"></div>
    </div>

    <div id="reward-screen">
        <div class="firework">ğŸ† ğŸ‡ ğŸ§§ ğŸ‡ ğŸ†</div>
        <h2>æ­å–œä½ ï¼èƒŒè¯µå¤§æˆåŠŸï¼</h2>
        <p>ä½ å·²ç»è®°ä½äº†æ‰€æœ‰çš„æ˜¥èŠ‚ä¹ ä¿—ï¼</p>
        <div style="font-size: 1.5rem; margin: 20px;">é¢†å–å¥–åŠ±ï¼šä¸€é¢—å¤§ç³–ç“œï¼ğŸ¬</div>
        <button onclick="location.reload()">å†ç©ä¸€æ¬¡</button>
    </div>

    <script>
        const rhymeData = [
            { date: "è…Šå…«", action: "å–è…Šå…«ç²¥" },
            { date: "äºŒåä¸‰", action: "ç³–ç“œç²˜" },
            { date: "äºŒåå››", action: "æ‰«æˆ¿å­" },
            { date: "äºŒåäº”", action: "ç£¨è±†è…" },
            { date: "äºŒåå…­", action: "å»ä¹°è‚‰" },
            { date: "äºŒåä¸ƒ", action: "å®°å…¬é¸¡" },
            { date: "äºŒåå…«", action: "æŠŠé¢å‘" },
            { date: "äºŒåä¹", action: "è’¸é¦’å¤´" },
            { date: "ä¸‰åæ™šä¸Š", action: "ç†¬ä¸€å®¿" },
            { date: "åˆä¸€åˆäºŒ", action: "æ»¡è¡—èµ°" }
        ];

        let selectedDate = null;
        let matches = 0;

        function initGame() {
            const board = document.getElementById('game-board');
            board.innerHTML = '';
            
            // æ··åˆæ—¥æœŸå’ŒåŠ¨ä½œ
            const dates = rhymeData.map(d => ({ text: d.date, type: 'date', id: d.date }));
            const actions = rhymeData.map(d => ({ text: d.action, type: 'action', id: d.date }));
            
            const allItems = [...dates, ...actions].sort(() => Math.random() - 0.5);

            allItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'item';
                div.innerText = item.text;
                div.onclick = () => handleSelect(item, div);
                board.appendChild(div);
            });
        }

        function handleSelect(item, element) {
            if (element.classList.contains('correct')) return;

            if (!selectedDate && item.type === 'date') {
                selectedDate = { item, element };
                element.classList.add('selected');
            } else if (selectedDate && item.type === 'action') {
                if (selectedDate.item.id === item.id) {
                    // åŒ¹é…æˆåŠŸ
                    element.classList.add('correct');
                    selectedDate.element.classList.add('correct');
                    matches++;
                    checkWin();
                } else {
                    // åŒ¹é…å¤±è´¥
                    selectedDate.element.classList.remove('selected');
                }
                selectedDate = null;
            } else {
                // é‡æ–°é€‰æ‹©æ—¥æœŸ
                if (selectedDate) selectedDate.element.classList.remove('selected');
                if (item.type === 'date') {
                    selectedDate = { item, element };
                    element.classList.add('selected');
                } else {
                    selectedDate = null;
                }
            }
        }

        function checkWin() {
            if (matches === rhymeData.length) {
                document.getElementById('reward-screen').style.display = 'flex';
                // æ’­æ”¾çƒŸèŠ±éŸ³æ•ˆï¼ˆå¦‚æœ‰éœ€è¦å¯æ·»åŠ ï¼‰
            }
        }

        initGame();
    </script>
</body>
</html>